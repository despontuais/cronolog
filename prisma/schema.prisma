generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Comentario {
  ID_Comentario Int      @id @unique @default(autoincrement())
  ID_Usuario    Int
  ID_Midia      Int
  Texto         String   @db.VarChar(255)
  DT_Comentario DateTime @db.Date

  @@index([ID_Midia], map: "FK_ID_Midia")
  @@index([ID_Usuario], map: "FK_ID_Usuario")
}

model Linha_do_tempo {
  ID_LinhaTempo Int       @id @unique @default(autoincrement())
  ID_Usuario    Int
  ID_Midia      Int?
  Nome          String    @unique @db.VarChar(255)
  Descricao     String?   @db.Text
  Classificacao String?   @db.VarChar(255)
  DT_Comentario DateTime? @db.Date

  @@index([ID_Midia], map: "FK_ID_Midia")
  @@index([ID_Usuario], map: "FK_ID_Usuario")
}

model Midia {
  ID_Midia      Int      @id @unique @default(autoincrement())
  ID_LinhaTempo Int 
  Titulo        String   @db.VarChar(255)
  Tipo          String?   @db.VarChar(255)
  DT_Lancamento DateTime? @db.Date
  ID_API        Int

  @@index([ID_LinhaTempo], map: "FK_ID_LinhaTempo")
  @@unique([ID_API, ID_LinhaTempo])
}

model Segue {
  ID_Segue    Int @id @unique @default(autoincrement())
  ID_Seguidor Int
  ID_Seguido  Int

  @@index([ID_Seguidor, ID_Seguido], map: "FK_ID_Usuario")
}

model Usuario {
  ID_Usuario    Int      @id @default(autoincrement())
  Nome_Usuario  String   @db.VarChar(255) @unique
  Email         String   @db.VarChar(255) @unique
  Senha         String   @db.VarChar(255)
  DT_nascimento DateTime @db.Date
}
